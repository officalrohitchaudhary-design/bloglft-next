{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohit/Documents/workspace/app/bloglft-next/app/wp-leads/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { FaSpinner, FaExclamationCircle } from \"react-icons/fa\";\nimport { FaUser, FaEnvelope, FaPhone, FaFileLines } from \"react-icons/fa6\";\n\ninterface Lead {\n  _id: string;\n  name: string;\n  mobile: string;\n  email: string;\n  description: string;\n  status: string;\n  created_at: string;\n}\n\nexport default function LeadsPage() {\n  const [leads, setLeads] = useState<Lead[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchLeads = async () => {\n      try {\n        const response = await fetch(\"https://blogvoom.zeabur.app/leads/list\");\n        if (!response.ok) {\n          throw new Error(\"Failed to fetch leads\");\n        }\n        const data = await response.json();\n        // Ensure data is an array, handle case where it might be wrapped\n        const leadsData = Array.isArray(data) ? data : [];\n        setLeads(leadsData);\n      } catch (err) {\n        console.error(\"Error fetching leads:\", err);\n        setError(\"Failed to load leads. Please try again later.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchLeads();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-slate-50\">\n        <div className=\"flex flex-col items-center gap-4 text-slate-400\">\n          <FaSpinner className=\"w-10 h-10 animate-spin text-[#68b13d]\" />\n          <p className=\"font-medium\">Loading leads...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-slate-50\">\n        <div className=\"flex flex-col items-center gap-4 text-red-500 bg-red-50 px-8 py-6 rounded-2xl border border-red-100\">\n          <FaExclamationCircle className=\"w-10 h-10\" />\n          <p className=\"font-bold text-lg\">{error}</p>\n          <button \n            onClick={() => window.location.reload()}\n            className=\"px-6 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg font-bold transition-colors text-sm\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-black text-slate-900 tracking-tight\">Leads</h1>\n          <p className=\"text-slate-500 font-medium mt-2\">\n            Managing {leads.length} {leads.length === 1 ? 'lead' : 'leads'}\n          </p>\n        </div>\n\n        {leads.length === 0 ? (\n          <div className=\"text-center py-20 bg-white rounded-2xl border border-slate-100 shadow-sm\">\n            <p className=\"text-slate-400 font-medium text-lg\">No leads found yet.</p>\n          </div>\n        ) : (\n          <>\n            {/* Desktop View - Table */}\n            <div className=\"hidden lg:block bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden\">\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-left border-collapse\">\n                  <thead>\n                    <tr className=\"bg-slate-50 border-b border-slate-100\">\n                      <th className=\"py-4 px-6 font-bold text-sm text-slate-500 uppercase tracking-wider w-[20%]\">Name</th>\n                      <th className=\"py-4 px-6 font-bold text-sm text-slate-500 uppercase tracking-wider w-[20%]\">Mobile</th>\n                      <th className=\"py-4 px-6 font-bold text-sm text-slate-500 uppercase tracking-wider w-[25%]\">Email</th>\n                      <th className=\"py-4 px-6 font-bold text-sm text-slate-500 uppercase tracking-wider w-[35%]\">Description</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-slate-100\">\n                    {leads.map((lead) => (\n                      <tr key={lead._id} className=\"hover:bg-slate-50/50 transition-colors\">\n                        <td className=\"py-4 px-6\">\n                          <div className=\"font-bold text-slate-900\">{lead.name}</div>\n                        </td>\n                        <td className=\"py-4 px-6\">\n                          <div className=\"font-medium text-slate-600\">{lead.mobile}</div>\n                        </td>\n                        <td className=\"py-4 px-6\">\n                          {lead.email ? (\n                            <div className=\"font-medium text-slate-600\">{lead.email}</div>\n                          ) : (\n                            <span className=\"text-slate-400 text-sm italic\">Not provided</span>\n                          )}\n                        </td>\n                        <td className=\"py-4 px-6\">\n                          {lead.description ? (\n                            <div className=\"text-slate-600 text-sm leading-relaxed line-clamp-2\" title={lead.description}>\n                              {lead.description}\n                            </div>\n                          ) : (\n                            <span className=\"text-slate-400 text-sm italic\">No description</span>\n                          )}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n\n            {/* Mobile View - Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 lg:hidden\">\n              {leads.map((lead) => (\n                <div key={lead._id} className=\"bg-white rounded-xl p-5 shadow-sm border border-slate-100 flex flex-col gap-4\">\n                  <div className=\"flex items-start justify-between border-b border-slate-50 pb-3\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-10 h-10 rounded-full bg-[#68b13d]/10 flex items-center justify-center text-[#68b13d]\">\n                        <FaUser className=\"w-4 h-4\" />\n                      </div>\n                      <div>\n                        <h3 className=\"font-bold text-slate-900 text-lg leading-tight\">{lead.name}</h3>\n                        <span className=\"text-xs font-medium text-slate-400\">\n                          {new Date(lead.created_at).toLocaleDateString()}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-center gap-3 text-slate-600\">\n                      <div className=\"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center shrink-0\">\n                        <FaPhone className=\"w-3.5 h-3.5 text-slate-400\" />\n                      </div>\n                      <span className=\"font-medium\">{lead.mobile}</span>\n                    </div>\n\n                    {lead.email && (\n                      <div className=\"flex items-center gap-3 text-slate-600\">\n                        <div className=\"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center shrink-0\">\n                          <FaEnvelope className=\"w-3.5 h-3.5 text-slate-400\" />\n                        </div>\n                        <span className=\"font-medium break-all\">{lead.email}</span>\n                      </div>\n                    )}\n\n                    {lead.description && (\n                      <div className=\"flex items-start gap-3 text-slate-600\">\n                        <div className=\"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center shrink-0 mt-0.5\">\n                          <FaFileLines className=\"w-3.5 h-3.5 text-slate-400\" />\n                        </div>\n                        <p className=\"text-sm leading-relaxed\">{lead.description}</p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}